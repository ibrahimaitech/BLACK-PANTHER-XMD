

/**
 * Create By @SuhailTechInfo
 * Contact - https://wa.me/923184474176
 * Follow https://github.com/SuhailTechInfo
 */

 

  
const _0x377fcd=_0x1b93;(function(_0x4c584f,_0x411d5c){const _0xe3ae12=_0x1b93,_0x453b1d=_0x4c584f();while(!![]){try{const _0x4575fe=parseInt(_0xe3ae12(0x209))/0x1+parseInt(_0xe3ae12(0x1f5))/0x2*(-parseInt(_0xe3ae12(0x1db))/0x3)+-parseInt(_0xe3ae12(0x225))/0x4+-parseInt(_0xe3ae12(0x1f9))/0x5*(parseInt(_0xe3ae12(0x21e))/0x6)+-parseInt(_0xe3ae12(0x202))/0x7+parseInt(_0xe3ae12(0x1f7))/0x8+parseInt(_0xe3ae12(0x1f0))/0x9;if(_0x4575fe===_0x411d5c)break;else _0x453b1d['push'](_0x453b1d['shift']());}catch(_0x1044a3){_0x453b1d['push'](_0x453b1d['shift']());}}}(_0x2aaa,0xe555e));function _0x1b93(_0x5f44e,_0x28468b){const _0x2aaae2=_0x2aaa();return _0x1b93=function(_0x1b935f,_0x5c834e){_0x1b935f=_0x1b935f-0x1c8;let _0x1365a9=_0x2aaae2[_0x1b935f];return _0x1365a9;},_0x1b93(_0x5f44e,_0x28468b);}const ffmpeg=require(_0x377fcd(0x20f)),{randomBytes}=require(_0x377fcd(0x1e7)),fs=require('fs'),{getHttpStream,toBuffer}=require(_0x377fcd(0x205)),sharp=require('sharp'),{spawn}=require(_0x377fcd(0x1cb)),path=require('path'),{fromBuffer}=require(_0x377fcd(0x1cd)),{tmpdir}=require('os'),ff=require(_0x377fcd(0x20f)),webp=require(_0x377fcd(0x203));async function toGif(_0x1804d0){const _0x5ce4a2=_0x377fcd;try{const _0x10bdc6='./'+randomBytes(0x3)[_0x5ce4a2(0x1fa)](_0x5ce4a2(0x207))+_0x5ce4a2(0x20c),_0x59babe='./'+randomBytes(0x3)['toString']('hex')+_0x5ce4a2(0x1df);fs[_0x5ce4a2(0x1ee)](_0x10bdc6,_0x1804d0[_0x5ce4a2(0x1fa)]('binary'),_0x5ce4a2(0x208));const _0x15e75a=await new Promise(_0x55c0d1=>{const _0x243357=_0x5ce4a2;spawn(_0x243357(0x21a),[_0x10bdc6,_0x59babe])['on'](_0x243357(0x222),_0x138ca1=>{throw _0x138ca1;})['on'](_0x243357(0x1ca),()=>_0x55c0d1(_0x59babe));});let _0x42f096=fs['readFileSync'](_0x15e75a);try{fs['unlinkSync'](_0x10bdc6);}catch{}try{fs[_0x5ce4a2(0x1f1)](_0x59babe);}catch{}return _0x42f096;}catch(_0x47109b){console[_0x5ce4a2(0x220)](_0x47109b);}}async function toMp4(_0x1d5caf){const _0x299f4c=_0x377fcd;try{let _0x531e29='./'+randomBytes(0x3)[_0x299f4c(0x1fa)](_0x299f4c(0x207))+_0x299f4c(0x1df);const _0x17da12=fs[_0x299f4c(0x1eb)](_0x1d5caf)?_0x1d5caf:save(_0x1d5caf,_0x531e29),_0x222ca8='./'+randomBytes(0x3)[_0x299f4c(0x1fa)](_0x299f4c(0x207))+'.mp4',_0x573d64=await new Promise(_0x592bf9=>{const _0x3bc7b8=_0x299f4c;ffmpeg(_0x17da12)[_0x3bc7b8(0x224)](['-pix_fmt\x20yuv420p',_0x3bc7b8(0x1ea),_0x3bc7b8(0x1d6),_0x3bc7b8(0x1e1)])['toFormat'](_0x3bc7b8(0x1dc))[_0x3bc7b8(0x1f4)]()[_0x3bc7b8(0x1fe)](_0x222ca8)['on'](_0x3bc7b8(0x1ca),()=>_0x592bf9(_0x222ca8));});let _0x2b9b13=await fs[_0x299f4c(0x221)][_0x299f4c(0x1fb)](_0x573d64);try{fs[_0x299f4c(0x1f1)](_0x17da12);}catch{}try{fs[_0x299f4c(0x1f1)](_0x222ca8);}catch{}return _0x2b9b13;}catch(_0x24ee99){console[_0x299f4c(0x220)](_0x24ee99);}}const EightD=async _0x78ba44=>{const _0x2e727a=_0x377fcd,_0x29f51a=_0x2e727a(0x1de)+randomBytes(0x3)['toString'](_0x2e727a(0x207))+'.mp3';_0x78ba44=Buffer[_0x2e727a(0x21d)](_0x78ba44)?save(_0x78ba44,_0x29f51a):_0x78ba44;const _0x25915b=_0x2e727a(0x1de)+randomBytes(0x3)[_0x2e727a(0x1fa)]('hex')+'.mp3',_0x16290f=await new Promise(_0x4a7887=>{const _0xe45200=_0x2e727a;ffmpeg(_0x78ba44)[_0xe45200(0x20a)]([_0xe45200(0x223)])[_0xe45200(0x1f2)](0xac44)[_0xe45200(0x201)](0x2)[_0xe45200(0x1d9)](_0xe45200(0x1da))[_0xe45200(0x216)](_0xe45200(0x21f))[_0xe45200(0x1d1)](0x5)[_0xe45200(0x1cf)](_0xe45200(0x215))[_0xe45200(0x1fe)](_0x25915b)['on'](_0xe45200(0x213),()=>_0x4a7887(_0x25915b));});return _0x16290f;};function save(_0x47b3b7,_0x5a41c3=_0x377fcd(0x1fd)){const _0x4ff602=_0x377fcd;try{return fs[_0x4ff602(0x1ee)](_0x5a41c3,_0x47b3b7[_0x4ff602(0x1fa)](_0x4ff602(0x208)),_0x4ff602(0x208)),_0x5a41c3;}catch(_0x48181f){console[_0x4ff602(0x220)](_0x48181f);}}const resizeImage=(_0x2037ea,_0x4470a2,_0x42f2ff)=>{const _0x52a926=_0x377fcd;if(!Buffer[_0x52a926(0x21d)](_0x2037ea))throw _0x52a926(0x20d);return new Promise(async _0x3e6c8a=>{const _0x485cc7=_0x52a926;sharp(_0x2037ea)[_0x485cc7(0x1e0)](_0x4470a2,_0x42f2ff,{'fit':_0x485cc7(0x1e4)})[_0x485cc7(0x1ce)]()[_0x485cc7(0x217)](_0x3e6c8a);});},_parseInput=async(_0x242492,_0x537749=![],_0xbaa34d=_0x377fcd(0x1f8))=>{const _0x9e9432=_0x377fcd,_0x257fef=await toBuffer(await getHttpStream(_0x242492)),_0x113b13=_0x9e9432(0x1ef)+randomBytes(0x3)[_0x9e9432(0x1fa)]('hex')+'.'+(_0x537749?_0x537749:(await fromBuffer(_0x257fef))[_0x9e9432(0x1ed)]),_0x26a839=Buffer[_0x9e9432(0x21d)](_0x242492)?save(_0x242492,_0x113b13):fs[_0x9e9432(0x1eb)](_0x242492)?_0x242492:_0x242492;if(_0xbaa34d==_0x9e9432(0x1f8))return _0x26a839;else{if(_0xbaa34d==_0x9e9432(0x1e8)){const _0x178c22=await fs[_0x9e9432(0x221)][_0x9e9432(0x1fb)](_0x26a839);try{await fs[_0x9e9432(0x221)][_0x9e9432(0x214)](_0x26a839);}catch(_0x266680){}return _0x178c22;}}};async function imageToWebp(_0x218725){const _0x478f32=_0x377fcd,_0x1e375a=path['join'](tmpdir(),randomBytes(0x6)[_0x478f32(0x1d3)](0x0,0x6)['toString'](0x24)+_0x478f32(0x20c)),_0x23ff16=path[_0x478f32(0x21c)](tmpdir(),randomBytes(0x6)[_0x478f32(0x1d3)](0x0,0x6)[_0x478f32(0x1fa)](0x24)+_0x478f32(0x219));fs[_0x478f32(0x1ee)](_0x23ff16,_0x218725),await new Promise((_0x48f236,_0x374a61)=>{const _0x7d80d9=_0x478f32;ff(_0x23ff16)['on'](_0x7d80d9(0x222),_0x374a61)['on'](_0x7d80d9(0x213),()=>_0x48f236(!![]))[_0x7d80d9(0x1d7)]([_0x7d80d9(0x1f6),_0x7d80d9(0x1c9),_0x7d80d9(0x1d2),_0x7d80d9(0x1e6)])['toFormat'](_0x7d80d9(0x1dd))['save'](_0x1e375a);});const _0x110667=fs['readFileSync'](_0x1e375a);return fs[_0x478f32(0x1f1)](_0x1e375a),fs['unlinkSync'](_0x23ff16),_0x110667;}async function videoToWebp(_0x359f57){const _0x183f7f=_0x377fcd,_0x54fd5=path['join'](tmpdir(),randomBytes(0x6)[_0x183f7f(0x1d3)](0x0,0x6)[_0x183f7f(0x1fa)](0x24)+_0x183f7f(0x20c)),_0x1a1e9b=path['join'](tmpdir(),randomBytes(0x6)[_0x183f7f(0x1d3)](0x0,0x6)[_0x183f7f(0x1fa)](0x24)+_0x183f7f(0x1fc));fs[_0x183f7f(0x1ee)](_0x1a1e9b,_0x359f57),await new Promise((_0x52a5ff,_0x1e1c14)=>{const _0x45fb95=_0x183f7f;ff(_0x1a1e9b)['on'](_0x45fb95(0x222),_0x1e1c14)['on'](_0x45fb95(0x213),()=>_0x52a5ff(!![]))['addOutputOptions'](['-vcodec',_0x45fb95(0x1c9),'-vf',_0x45fb95(0x1e6),_0x45fb95(0x1e3),'0',_0x45fb95(0x20b),_0x45fb95(0x212),'-t',_0x45fb95(0x1cc),_0x45fb95(0x1f3),_0x45fb95(0x211),_0x45fb95(0x210),_0x45fb95(0x1d8),'0'])[_0x45fb95(0x1cf)](_0x45fb95(0x1dd))[_0x45fb95(0x1fe)](_0x54fd5);});const _0x56df2a=fs[_0x183f7f(0x1ff)](_0x54fd5);return fs['unlinkSync'](_0x54fd5),fs['unlinkSync'](_0x1a1e9b),_0x56df2a;}async function writeExifImg(_0x1fd483,_0x483806){const _0x19621c=_0x377fcd;let _0xb28c0b=await imageToWebp(_0x1fd483);const _0xef911d=path[_0x19621c(0x21c)](tmpdir(),randomBytes(0x6)[_0x19621c(0x1d3)](0x0,0x6)[_0x19621c(0x1fa)](0x24)+'.webp'),_0x3aa6e0=path[_0x19621c(0x21c)](tmpdir(),randomBytes(0x6)['readUIntLE'](0x0,0x6)[_0x19621c(0x1fa)](0x24)+_0x19621c(0x20c));fs[_0x19621c(0x1ee)](_0xef911d,_0xb28c0b);if(_0x483806[_0x19621c(0x204)]||_0x483806[_0x19621c(0x226)]){const _0x335b84=new webp[(_0x19621c(0x1e5))](),_0x42a636={'sticker-pack-id':_0x19621c(0x200),'sticker-pack-name':_0x483806[_0x19621c(0x204)],'sticker-pack-publisher':_0x483806['author'],'emojis':_0x483806[_0x19621c(0x1d5)]?_0x483806[_0x19621c(0x1d5)]:['']},_0xcbb12e=Buffer[_0x19621c(0x1e2)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x6ed7c6=Buffer[_0x19621c(0x1e2)](JSON[_0x19621c(0x1d4)](_0x42a636),_0x19621c(0x1ec)),_0x306edf=Buffer['concat']([_0xcbb12e,_0x6ed7c6]);return _0x306edf[_0x19621c(0x218)](_0x6ed7c6[_0x19621c(0x1c8)],0xe,0x4),await _0x335b84['load'](_0xef911d),fs['unlinkSync'](_0xef911d),_0x335b84[_0x19621c(0x21b)]=_0x306edf,await _0x335b84[_0x19621c(0x1fe)](_0x3aa6e0),_0x3aa6e0;}}async function writeExifVid(_0x45a241,_0x563630){const _0x51869b=_0x377fcd;let _0x10dcc8=await videoToWebp(_0x45a241);const _0x32aecd=path['join'](tmpdir(),randomBytes(0x6)[_0x51869b(0x1d3)](0x0,0x6)[_0x51869b(0x1fa)](0x24)+_0x51869b(0x20c)),_0x5e9365=path[_0x51869b(0x21c)](tmpdir(),randomBytes(0x6)['readUIntLE'](0x0,0x6)[_0x51869b(0x1fa)](0x24)+_0x51869b(0x20c));fs[_0x51869b(0x1ee)](_0x32aecd,_0x10dcc8);let _0xd0b349,_0x195824;try{_0xd0b349=_0x563630[_0x51869b(0x204)];}catch(_0x462fe9){_0xd0b349=_0x51869b(0x200);}try{_0x195824=_0x563630[_0x51869b(0x226)];}catch(_0x4e4d69){_0x195824='';}const _0x3b47cc=new webp[(_0x51869b(0x1e5))](),_0x568dc0={'sticker-pack-id':'Suhail-Md','sticker-pack-name':_0xd0b349,'sticker-pack-publisher':_0x195824,'emojis':_0x563630[_0x51869b(0x1d5)]?_0x563630[_0x51869b(0x1d5)]:['']},_0x33d1e4=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x52afb6=Buffer[_0x51869b(0x1e2)](JSON[_0x51869b(0x1d4)](_0x568dc0),_0x51869b(0x1ec)),_0x5bdc63=Buffer[_0x51869b(0x1d0)]([_0x33d1e4,_0x52afb6]);return _0x5bdc63[_0x51869b(0x218)](_0x52afb6[_0x51869b(0x1c8)],0xe,0x4),await _0x3b47cc[_0x51869b(0x206)](_0x32aecd),fs['unlinkSync'](_0x32aecd),_0x3b47cc[_0x51869b(0x21b)]=_0x5bdc63,await _0x3b47cc[_0x51869b(0x1fe)](_0x5e9365),_0x5e9365;}async function writeExifWebp(_0x38a80c,_0x8e963c){const _0x12633f=_0x377fcd,_0x182c66=path[_0x12633f(0x21c)](tmpdir(),randomBytes(0x6)['readUIntLE'](0x0,0x6)[_0x12633f(0x1fa)](0x24)+'.webp'),_0xecd5c0=path['join'](tmpdir(),randomBytes(0x6)[_0x12633f(0x1d3)](0x0,0x6)[_0x12633f(0x1fa)](0x24)+_0x12633f(0x20c));fs[_0x12633f(0x1ee)](_0x182c66,_0x38a80c);if(_0x8e963c[_0x12633f(0x204)]||_0x8e963c['author']){const _0x3f8a74=new webp[(_0x12633f(0x1e5))](),_0x315c40={'sticker-pack-id':_0x12633f(0x20e),'sticker-pack-name':_0x8e963c[_0x12633f(0x204)],'sticker-pack-publisher':_0x8e963c[_0x12633f(0x226)],'emojis':_0x8e963c[_0x12633f(0x1d5)]?_0x8e963c[_0x12633f(0x1d5)]:['']},_0x427b1b=await Buffer[_0x12633f(0x1e2)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0xbfd185=await Buffer['from'](JSON['stringify'](_0x315c40),'utf-8'),_0x7b29c0=await Buffer[_0x12633f(0x1d0)]([_0x427b1b,_0xbfd185]);return await _0x7b29c0[_0x12633f(0x218)](_0xbfd185[_0x12633f(0x1c8)],0xe,0x4),await _0x3f8a74[_0x12633f(0x206)](_0x182c66),fs[_0x12633f(0x1f1)](_0x182c66),_0x3f8a74[_0x12633f(0x21b)]=_0x7b29c0,await _0x3f8a74['save'](_0xecd5c0),_0xecd5c0;}}function _0x2aaa(){const _0x40733b=['promises','error','apulsator=hz=0.125','outputOptions','6278824MVkvQK','author','length','libwebp','exit','child_process','00:00:05','file-type','toBuffer','toFormat','concat','audioQuality','-vf','readUIntLE','stringify','categories','-movflags\x20+faststart','addOutputOptions','-vsync','audioBitrate','128k','177615RBezDo','mp4','webp','./temp/','.gif','resize','-filter:v\x20crop=\x27floor(in_w/2)*2:floor(in_h/2)*2\x27','from','-loop','contain','Image','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','crypto','buffer','exports','-c:v\x20libx264','existsSync','utf-8','ext','writeFileSync','./temp/file_','32359086SgnjDG','unlinkSync','audioFrequency','-preset','noAudio','60IgPWBw','-vcodec','7418816Czlfsn','path','125835BWGfoA','toString','readFile','.mp4','./temp/saveFile.jpg','save','readFileSync','Suhail-Md','audioChannels','4088105QmyIZC','node-webpmux','packname','@whiskeysockets/baileys','load','hex','binary','1000765QQNUuc','audioFilter','-ss','.webp','Input\x20is\x20not\x20a\x20Buffer','Suhail_Md','fluent-ffmpeg','-an','default','00:00:00','end','unlink','mp3','audioCodec','then','writeUIntLE','.jpg','convert','exif','join','isBuffer','156SSYPvL','libmp3lame','log'];_0x2aaa=function(){return _0x40733b;};return _0x2aaa();}module[_0x377fcd(0x1e9)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExifWebp':writeExifWebp,'toGif':toGif,'toMp4':toMp4,'EightD':EightD,'_parseInput':_parseInput,'resizeImage':resizeImage};
